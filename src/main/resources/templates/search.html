<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="default">
    
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Assignment 1 JPA</title>

  
  </head>
  
  <body>

      <div layout:fragment="content">
          
           <div>
            <h3>Search Person</h3>
            <form action="#" th:action="@{/search}" method="post">
                <div class="form-horizontal">
                    <hr />
              

                   <div class="form-group">
                       <label class="control-label col-md-2">Name</label>
                       <div class="col-md-10">
                        <input  type="text" class="form-control" th:value="${name}" name="name" required>
                       </div>
                  </div>               

                    <div class="form-group">
                        <div class="col-md-offset-2 col-md-10">
                            <input type="submit" value="Search" class="btn btn-primary" />
                        </div>
                    </div>
                </div>      
            </form>
            <br />
            <div th:if="${pList!=null and !pList.empty}">
                        <table id="myTable" align="center" class="table table-hover display">
                             <thead>

                         <tr> 
                            <th>Name</th>
                            <th>Type</th>
                            <th>Address</th>
                            <th>Phone</th>
                            <th>Email</th>
                            <th></th>
                            <th></th>
                        </tr>
                             </thead>
                      
                           <tbody>

                                   <tr th:each="p :${pList}">
                                        <td th:utext="${p.name}"></td>
                                        <td th:utext="${p.getDecriminatorValue()}"></td>
                                        <td th:utext="${p.address}"></td>
                                        <td th:utext="${p.phone}"></td>
                                        <td th:utext="${p.email}"></td>
                                        <td>
                                             <form action="#" th:action="@{/edit}" method="get">
                                                <input type='hidden' name='id' th:value='${p.id}' />
                                                <input type="submit" value="Edit" class="btn btn-primary" />
                                            </form>                
                                        </td>
                                        <td>
                                            <form action="#" th:action="@{/delete}" method="post">
                                                <input type='hidden' name='id' th:value='${p.id}' />
                                                <input type="submit" value="Delete" class="btn btn-warning" />
                                            </form> 
                                        </td>

                                   </tr>

                             
                                    </tbody>
                      
                   </table>
                
            </div>
        </div>
    </div>


  </body>
</html>
